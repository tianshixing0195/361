<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>男常规跑鞋</title>
		<link rel="stylesheet" type="text/css" href="../css/base.css"/>
		<link rel="stylesheet" type="text/css" href="../css/manshose1.css"/>
	</head>
	<body>
		<header></header>
	     <main>
		        <div id="list">
		     		<ul class="w top">
		     			<li class="l">所有分类></li>
		     			<li class="l"><a href="../index.html">首页></a></li>
		     			<li class="l"><a href="shopList.html"/>商品列表></a></li>
		     			<li class="l">男常规跑鞋</li>
		     		</ul>
		     	</div>
		     	<section class="w">
		     		<div id="smallPic" class="l">
		     			<ul>
		     			
		     			</ul>
		     		</div>
		     		<div id="bigPic" class="l">
		     			
		     		</div>
		     		<div id="right-details" class="l">
		     			<h2></h2>
		     			<h3></h3>
		     			<div class="products-price"><span>原价:<b></b></span>运费不包邮（<a href="#">运费详情</a>）</div>
		     			<p class="products-color">颜色分类<span>361度白/乌黑色</span></p>
		     			<ul class="products-color-choice">
		     				
		     			</ul>
		     			<div class="products-size">
		     				<div class="products-size-top">
		     					<input type="button" id="button-size" value="尺码选择    -" />
			     				<span>
			     					<input type="button" id="less-count" value="-" />
			     					<input type="text" id="num" value="1" />
			     					<input type="button" id="add-count" value="+" />
			     				</span>
		     				</div>
		     				<ul class="size-show">
		     					<li>39</li>
		     					<li>40</li>
		     					<li>41</li>
		     					<li>42</li>
		     					<li>43</li>
		     					<li>44</li>
		     					<li>45</li>
		     					<li>46</li>
		     					<li>47</li>
		     				</ul>
		     				
		     			</div>
		     			<span id="massage">请选择商品尺码</span>
		     			<div class="products-buy">
		     				<input type="button" id="addshopcar" value="加入购物车" />
		     				<input type="button" id="buynow" value="立即购买" />
		     			</div>
		     			<ul>
		     				<li>收藏<span></span></li>
		     				<li>分享<span></span></li>
		     			</ul>
		     			
		     			
		     		</div>
		     	</section>
		</main> 
		
		<footer style="margin-top: 50px;"></footer>
	</body>
</html>
<script type="text/javascript" src="../js/jquery-1.8.3.min.js" ></script>
<script type="text/javascript" src="../js/361base.js" ></script>
<script type="text/javascript">
	
   $(function(){
		
		//添加header和footer的html文件并引用Js.
		$("header").load("header.html",function(){
			addEvent()
		});
		
		$("footer").load("footer.html",function(){
			addEvent()
		});
		
		getData ();
		showImg();
		
    });  
   
        //获取数据
    function getData () {
    	$.getJSON("../json/manshose11.json",function(data){
    		console.log(data);
    		createUI(data);
    		
    	});
    }
    
    function showImg () {
    	$("#button-size").toggle(
    		function () {
    			$(".size-show").fadeIn(500);
    		},
    		function () {
    			$(".size-show").fadeOut(500);
    		}
    	)
    }
    
//  //物品展示
  function createUI(data) {
     
        let goodsList = data.CATALOG;
        console.log(goodsList);
        for (let i in goodsList) {
            $("#right-details h2").text(goodsList[i].title);
            $("#right-details h3").text(goodsList[i].price);
            $("#right-details .products-price span").children("b").text(goodsList[i].currPrice);
            
            let lists = goodsList[i].goods;
            
            //左边盒子当前显示的图片
				for (let i in lists[0].imgurl ) {
					let $liBox = $("<li></li>");
					$liBox.css({
						"backgroundImage":"url("+lists[0].imgurl[i]+")",
						"background-position":"center",
						"background-size":"100%",
					});
					$liBox.hover(
						function () {
							let curImg=$(this).css("backgroundImage");
							$("#bigPic").css({
								"backgroundImage":curImg,
								"background-size":"100%"
							});
							$(this).css({
								"box-shadow":"2px 3px 3px #ddd,2px 3px 3px #ddd,0px 10px 10px #ddd,-3px 5px 5px #ddd"
							    });
							
					       },
						function () {
							$(this).css({
								"box-shadow":"none",
							    });
							
					       });
						
  				 $("#smallPic ul").append($liBox);
				}
				
            for (let i in lists) {
            	
            	let $li = $("<li></li>");
            	let imgurls = lists[i].imgurl;
            	  $li.css({
							"backgroundImage":"url("+imgurls[0]+")",
							"background-size":"cover"
						       
							});
					$li.click(
						function () {
							$(this).css({
								"border":"1px solid #f70",
								"border-radius":"50%"
							});
							$(this).siblings().css({
								"border":"0",
								"border-radius":"0"
							});	
					   }
					);
			
				 $("#right-details .products-color-choice").append($li);
				
				
            }
            
        }
   }

////      	    $h2.text(goodsList[i].h2);
//      	    
//      	    let $shopBox = $("<div></div>");
//      	     $shopBox.css({
//								width: "100%",
//						        height:"auto"
//						       
//						      
//							});
//      	    //$sectionBox.append($h2);
//      	    $sectionBox.append($shopBox);     
//       
//      	    let lists = goodsList[i].goods;
//      	    for (let i in lists ) {
//      	    	
//      	    	//单个商品显示的盒子
//  	            let $oneShopBigBox = $("<div></div>");
//  	                 $oneShopBigBox.css({
//  	                 	    "display":"inline-block",
//  	                 	    "box-sizing":"border-box",
//								"width": "350px",
//								"height":"440px",
//								"position":"relative",
//								"background":"white",
//								  "z-index":0,
//						        "cursor": "pointer",
//						       // "border":"1px solid #e0e0e0",
//						        "margin-bottom":"20px",
//						        "border-radius":"5px",
//						        "margin-left":"10px",
//						        "margin-right":"30px"
//							});
//					  $shopBox.append($oneShopBigBox);		
//  	            let $oneShopBox = $("<div></div>");
//  	                 $oneShopBox.css({
//  	                 	   
//								"width": "350px",
//								//"height":"460px",
//								"background":"white",
//								"position":"absolute",
//								 "box-sizing":"border-box",
//								"top":0,
//								"left":0,
//			                    "z-index":0,
//						        "border":"1px solid #eee",
//						       
//						        "border-radius":"5px",
//						        
//							});
//      	    	    $oneShopBigBox.append($oneShopBox);
//      	    	    
//      	    		
//      	    		//创建商品显示的盒子
//      	    		let $imgBox = $("<div></div>");
//      	    		let imgurls = lists[i].imgurl;
//      	    		 
//      	    		   $imgBox.css({
//      	    		   	    width: "100%",
//                              height: "350px",
//								"backgroundImage":"url("+imgurls[0]+")",
//								"background-size":"cover"		    
//							});
//						 $oneShopBox.append($imgBox);	
//					    //下方小图片的盒子
//						//ul
//						let $ulBox = $("<ul></ul>");
//						   $ulBox.css({
//      	    		   	    width: "100%",
//                              height: "50px",
//								"display":"none"		    
//							});
//						    $oneShopBox.append($ulBox);	
//						    
//						    //动画效果
//						    
//						$oneShopBigBox.hover(
//						function () {
//							$(this).css({
//								"z-index":1,
//							});
//							$(this).children("div").css({
//								"z-index":2,
//								"position":"absolute",
//								"box-shadow":"6px 10px 10px #ddd,6px 10px 10px #ddd,0px 20px 20px #ddd,-6px 10px 10px #ddd"
//							})
//							$(this).children("div").animate({
//								width:"355px",
//								"height":"auto",
//								"top":"-5px",
//								"left":0,
//							},600);
//							 $(this).children("div").children("ul").slideToggle(100);
//					   },
//					   function () {
//					   	    $(this).css({
//								"z-index":0,
//							});
//							$(this).children("div").css({
//								"box-shadow":"none",
//							})
//					   	    $(this).children("div").animate({
//								"top":"0px",
//								"left":0,
//								"z-index":0
//							},600);
//						   	$(this).children("div").children("ul").slideToggle(100);
//					   }
//					);
//						
//										
//						//li
//						for(let i=0;i<imgurls.length;i++){
//						    let $liBox = $("<li></li>");
//								$liBox.css({
//									width: "60px",
//						            height: "50px",
//						            margin:"0 10px",
//						            "background-size": "100%", 
//									float:"left",
//									"backgroundImage":"url("+imgurls[i]+")",
//									"background-position":"center"
//								});
//								$ulBox.append($liBox);
//							   	$liBox.mouseenter(function(){
//									let curImg=$(this).css("backgroundImage");
//									$(this).parent().prev().css("backgroundImage",curImg)
//								});
//						}
//						
//		            //文字的盒子
//						let $titleBox = $("<h3></h3>");
//				            $titleBox.css({
//								width: "100%",
//					            "text-align":"center" ,
//					           "font-size": "16px",
//					            "font-weight": "normal",
//					            "margin-top": "14px"
//				           
//						    });
//							$titleBox.text(lists[i].title);
//							$oneShopBox.append($titleBox);
//						
//						//价格的盒子
//						let $priceBox = $("<p></p>");
//				        $priceBox.css({
//							width: "100%",
//							height:"40px",
//				            "text-align":"center" ,
//				            "font-size": "14px",
//				            "color": "#f60",
//				            "padding-top": "14px"
//				           
//						});
//						$priceBox.text(lists[i].price);
//						$oneShopBox.append($priceBox);
//      	    	}
//      	 	
//      	}   
//      	
//     
//  }
//  
</script>
